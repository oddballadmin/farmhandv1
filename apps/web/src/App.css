/* Theme tokens using system preference with optional manual override */
:root {
	color-scheme: light dark;

	/* Default to LIGHT tokens; system dark will override via media query below */
	--fg: #0f172a;

	--bg: #f3f4f6;        /* page background (light but not white) */
	--main-bg: #f3f4f6;    /* content area background */
	--header-bg: #ffffff;
	--header-border: #e5e7eb;
	--sidebar-bg: #ffffff;
	--sidebar-border: #e5e7eb;
	--module-panel-bg: #e5e7eb;  /* slightly darker than page */
	--module-panel-border: #d1d5db;

	--menu-btn-border: #d1d5db;
	--menu-btn-hover-bg: #f3f4f6;
	--action-btn-bg: #2563eb;
	--action-btn-hover-bg: #1d4ed8;
	--action-btn-color: #ffffff;

	--nav-link-color: #374151;
	--nav-link-hover-bg: #f3f4f6;
	--nav-link-hover-color: #111827;
	--nav-link-active-bg: #2563eb;
	--nav-link-active-color: #ffffff;

	--sub-menu-border-color: #e5e7eb;
	--sub-menu-active-bg: #e0e7ff;
	--sub-menu-active-color: #1e3a8a;

	--border-color: #e5e7eb;
}

/* System DARK preference */
@media (prefers-color-scheme: dark) {
	:root {
		--fg: #f5f5f5;

		--bg: #0b1220;
		--main-bg: #0f172a;
		--header-bg: #1f2937;
		--header-border: #2d3748;
		--sidebar-bg: #111827;
		--sidebar-border: #1f2937;
		--module-panel-bg: #1e293b;
		--module-panel-border: #334155;

		--menu-btn-border: #374151;
		--menu-btn-hover-bg: #374151;
		--action-btn-bg: #2563eb;
		--action-btn-hover-bg: #1d4ed8;
		--action-btn-color: #ffffff;

		--nav-link-color: #d1d5db;
		--nav-link-hover-bg: #1f2937;
		--nav-link-hover-color: #ffffff;
		--nav-link-active-bg: #2563eb;
		--nav-link-active-color: #ffffff;

		--sub-menu-border-color: #334155;
		--sub-menu-active-bg: #1e3a8a;
		--sub-menu-active-color: #e0e7ff;

		--border-color: #334155;
	}
}

/* Manual override: force LIGHT */
:root[data-theme="light"] {
	--fg: #0f172a;
	--bg: #f3f4f6;
	--main-bg: #f3f4f6;
	--header-bg: #ffffff;
	--header-border: #e5e7eb;
	--sidebar-bg: #ffffff;
	--sidebar-border: #e5e7eb;
	--module-panel-bg: #e5e7eb;
	--module-panel-border: #d1d5db;
	--menu-btn-border: #d1d5db;
	--menu-btn-hover-bg: #f3f4f6;
	--action-btn-bg: #2563eb;
	--action-btn-hover-bg: #1d4ed8;
	--action-btn-color: #ffffff;
	--nav-link-color: #374151;
	--nav-link-hover-bg: #f3f4f6;
	--nav-link-hover-color: #111827;
	--nav-link-active-bg: #2563eb;
	--nav-link-active-color: #ffffff;
	--sub-menu-border-color: #e5e7eb;
	--sub-menu-active-bg: #e0e7ff;
	--sub-menu-active-color: #1e3a8a;
	--border-color: #e5e7eb;
}

/* Manual override: force DARK */
:root[data-theme="dark"] {
	--fg: #f5f5f5;
	--bg: #0b1220;
	--main-bg: #0f172a;
	--header-bg: #1f2937;
	--header-border: #2d3748;
	--sidebar-bg: #111827;
	--sidebar-border: #1f2937;
	--module-panel-bg: #1e293b;
	--module-panel-border: #334155;
	--menu-btn-border: #374151;
	--menu-btn-hover-bg: #374151;
	--action-btn-bg: #2563eb;
	--action-btn-hover-bg: #1d4ed8;
	--action-btn-color: #ffffff;
	--nav-link-color: #d1d5db;
	--nav-link-hover-bg: #1f2937;
	--nav-link-hover-color: #ffffff;
	--nav-link-active-bg: #2563eb;
	--nav-link-active-color: #ffffff;
	--sub-menu-border-color: #334155;
	--sub-menu-active-bg: #1e3a8a;
	--sub-menu-active-color: #e0e7ff;
	--border-color: #334155;
}
